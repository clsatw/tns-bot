<Page class='page'>
    <Page.actionBar>
        <ActionBar class='action-bar' title="小車識別碼: {{initialRobotState.devId}}">            
            <ActionItem tap="getDevId" text="與小車連綫" 
            ios.systemIcon="16" ios.position="right"
            android.position="popup"></ActionItem>
        </ActionBar>
    </Page.actionBar>
    <ScrollView>
        <StackLayout verticalAlignment='center' horizontalAlignment='center'>
            <GridLayout height="100%"  horizontalAlignment="center" columns="auto auto auto" rows="auto,*,auto"  backgroundColor="khaki">
                <Button class='btn' (touch)="btnF$.next($event)" text='前進' isEnabled="{{(this.navMode$|async)? 'false':'true'}}" row='0' col='1'></Button>
                <Button class='btn' (touch)="btnL$.next($event)" text='左轉' isEnabled="{{(this.navMode$|async)? 'false':'true'}}" row='1' col='0'></Button>
                <ActivityIndicator row='1' col='1' [busy]='this.navMode$ | async' class="activity-indicator">
                </ActivityIndicator>
                <Button visibility="{{(this.navMode$|async)? 'collapse':'visible'}}" class='stopBtn'
                    (touch)="btnS$.next($event)" text='' row='1' col='1'></Button>
                <Button class='btn' (touch)="btnR$.next($event)" text='右轉' isEnabled="{{(this.navMode$|async)? 'false':'true'}}" row='1' col='2'></Button>
                <Button class='btn' (touch)="btnB$.next($event)" text='後退' isEnabled="{{(this.navMode$|async)? 'false':'true'}}" row='2' col='1'></Button>
            </GridLayout>
            <label class="hr-dark m-10"></label>

            <label textAlignment='center' textWrap='true' text='離障礙物最短距離'
                class='text-primary h3 description-label'></label>
            <Slider (valueChange)="disToWall$.next($event)" value="10" minValue="10" maxValue="100" class='slider'>
            </Slider>
            <label textAlignment='center' textWrap='true' text='速度' class='h3 description-label'></label>
            <Slider (valueChange)="inputSpeed$.next($event)" value="50" minValue="10" maxValue="255"></Slider>
            <label class='text-danger' textAlignment='center' text='自駕模式' textWrap='true'></label>
            <Switch checked="false" (checkedChange)="autoPilot$.next($event.value)" class="switch" horizontalAlignment="center"></Switch>
        </StackLayout>
    </ScrollView>
</Page>